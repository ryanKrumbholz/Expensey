{"ast":null,"code":"var _jsxFileName = \"/Users/ryankrumbholz/OneDrive/finished projects/expensey/expensey-client/client/src/components/account_body.js\";\nimport React, { Component } from 'react';\nimport './account_body.css';\n\nvar account_body = () => {\n  var getCookie = cname => {\n    /**\n     * Gets data of local cookie of given cname\n     */\n    var name = cname + \"=\";\n    var decodedCookie = decodeURIComponent(document.cookie);\n    var ca = decodedCookie.split(';');\n\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1);\n      }\n\n      if (c.indexOf(name) === 0) {\n        return c.substring(name.length, c.length);\n      }\n    }\n\n    return \"\";\n  };\n\n  function delCookies() {\n    function eraseCookie(name) {\n      var d = new Date();\n      d.setTime(d.getTime() + -1 * 24 * 60 * 60 * 1000);\n      document.cookie = name + \"= ;\" + \"  expires=\" + d + \";\";\n    }\n\n    var cookies = document.cookie.split(\";\");\n\n    for (var i = 0; i < cookies.length; i++) eraseCookie(cookies[i].split(\"=\")[0]);\n  }\n\n  var email = getCookie('email');\n\n  var changeEmail = () => {\n    var newEmail = document.getElementById('newEmail').value;\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: email,\n        newEmail: newEmail\n      })\n    };\n    fetch('https://limitless-bayou-59789.herokuapp.com/users/update_user', requestOptions).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data == 'User updated successfully.') {\n        window.location.reload();\n      }\n    }).catch(error => console.log(error));\n  };\n\n  var changePw = () => {\n    var currPw = document.getElementById('currPw').value;\n    var newPw = document.getElementById('newPw').value;\n    var newPwAuth = document.getElementById('newPwAuth').value;\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: email,\n        currPw: currPw,\n        newPw: newPw,\n        newPwAuth: newPwAuth\n      })\n    };\n    fetch('https://limitless-bayou-59789.herokuapp.com/users/update_user', requestOptions).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data == 'User updated successfully.') {\n        window.location.reload();\n      }\n    }).catch(error => console.log(error));\n  };\n\n  var delAccount = () => {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: email\n      })\n    };\n    fetch('https://limitless-bayou-59789.herokuapp.com/users/del_user', requestOptions).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data == 'User deleted successfully') {\n        delCookies();\n        window.location.reload();\n        window.localStorage.clear();\n      }\n    }).catch(error => console.log(error));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"accountBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"changeEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, \"Change Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter new email address.\",\n    id: \"newEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: changeEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, \"Update Email\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"resetPw\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, \"Change Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Enter current password.\",\n    id: \"currPw\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Enter new password.\",\n    id: \"newPw\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Confirm password.\",\n    id: \"newPwAuth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: changePw,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"Update password\")), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, \"Delete Account\"), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"delAccount\",\n    onClick: delAccount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, \"Delete Account\"));\n};\n\nexport default account_body;","map":{"version":3,"sources":["/Users/ryankrumbholz/OneDrive/finished projects/expensey/expensey-client/client/src/components/account_body.js"],"names":["React","Component","account_body","getCookie","cname","name","decodedCookie","decodeURIComponent","document","cookie","ca","split","i","length","c","charAt","substring","indexOf","delCookies","eraseCookie","d","Date","setTime","getTime","cookies","email","changeEmail","newEmail","getElementById","value","requestOptions","method","headers","body","JSON","stringify","fetch","then","res","json","data","console","log","window","location","reload","catch","error","changePw","currPw","newPw","newPwAuth","delAccount","localStorage","clear"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './account_body.css';\n\n\nvar account_body = () => {\n\n    var getCookie = cname => {\n        /**\n         * Gets data of local cookie of given cname\n         */\n        var name = cname + \"=\";\n        var decodedCookie = decodeURIComponent(document.cookie);\n        var ca = decodedCookie.split(';');\n        for(var i = 0; i <ca.length; i++) {\n          var c = ca[i];\n          while (c.charAt(0) === ' ') {\n            c = c.substring(1);\n          }\n          if (c.indexOf(name) === 0) {\n            return c.substring(name.length, c.length);\n          }\n        }\n        return \"\";\n      }\n\n      function delCookies() {\n        function eraseCookie(name) {\n          var d = new Date();\n          d.setTime(d.getTime()+(-1*24*60*60*1000));\n          document.cookie = name+\"= ;\" +\"  expires=\" + d + \";\";\n        }\n        var cookies = document.cookie.split(\";\");\n        for (var i = 0; i < cookies.length; i++)\n          eraseCookie(cookies[i].split(\"=\")[0]);\n      } \n    \n    var email = getCookie('email');\n\n    var changeEmail = () => {\n        var newEmail = document.getElementById('newEmail').value;\n        const requestOptions =\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email: email,\n            newEmail: newEmail\n          })\n        };\n          fetch('https://limitless-bayou-59789.herokuapp.com/users/update_user',requestOptions) \n              .then(res => res.json())\n              .then (data => \n                {\n                    console.log(data);\n                    if (data == 'User updated successfully.'){\n                        window.location.reload();\n                    }\n                })\n              .catch(error => console.log(error));\n    }\n\n    var changePw = () => {\n        var currPw = document.getElementById('currPw').value;\n        var newPw = document.getElementById('newPw').value;\n        var newPwAuth = document.getElementById('newPwAuth').value;\n\n        const requestOptions =\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email: email,\n            currPw: currPw,\n            newPw: newPw,\n            newPwAuth: newPwAuth\n          })\n        };\n          fetch('https://limitless-bayou-59789.herokuapp.com/users/update_user',requestOptions) \n              .then(res => res.json())\n              .then (data => \n                {\n                    console.log(data);\n                    if (data == 'User updated successfully.'){\n                        window.location.reload();\n                    }\n                })\n              .catch(error => console.log(error));\n    }\n\n    var delAccount = () => {\n        const requestOptions =\n        {\n          method: 'POST',\n          headers:  {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email: email\n          })\n        };\n          fetch('https://limitless-bayou-59789.herokuapp.com/users/del_user',requestOptions) \n              .then(res => res.json())\n              .then (data => \n                {\n                    console.log(data);\n                    if (data == 'User deleted successfully'){\n                        delCookies();\n                        window.location.reload();\n                        window.localStorage.clear();\n                    }\n                })\n              .catch(error => console.log(error));\n    }\n\n    return (\n        <div id=\"accountBody\">\n        <div id=\"changeEmail\">\n            <h2>Change Email</h2>\n            <input type=\"text\" placeholder=\"Enter new email address.\" id=\"newEmail\"></input>\n            <button onClick={changeEmail}>Update Email</button>\n        </div>\n        <div id=\"resetPw\">\n            <h2>Change Password</h2>\n            <input type=\"password\" placeholder=\"Enter current password.\" id=\"currPw\"></input>\n            <input type=\"password\" placeholder=\"Enter new password.\" id=\"newPw\"></input>\n            <input type=\"password\" placeholder=\"Confirm password.\" id=\"newPwAuth\"></input>\n            <button onClick={changePw}>Update password</button>\n        </div>\n        <h2>Delete Account</h2>\n        <button id=\"delAccount\" onClick={delAccount}>Delete Account</button>\n        </div>\n    )\n}\n\nexport default account_body;"]},"metadata":{},"sourceType":"module"}