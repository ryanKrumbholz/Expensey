{"ast":null,"code":"var _jsxFileName = \"/Users/ryankrumbholz/OneDrive/development/expensey/expensey-client/client/src/components/expense_card.js\";\nimport React, { Component, useState } from 'react';\nimport './expense_card.css';\n\nconst Expense_card = props => {\n  const [editable, setEditable] = useState(false);\n\n  var getCookie = cname => {\n    /**\n     * Gets data of local cookie of given cname\n     */\n    var name = cname + \"=\";\n    var decodedCookie = decodeURIComponent(document.cookie);\n    var ca = decodedCookie.split(';');\n\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1);\n      }\n\n      if (c.indexOf(name) === 0) {\n        return c.substring(name.length, c.length);\n      }\n    }\n\n    return \"\";\n  }; //function encapsulates card data\n\n\n  var cardData = function () {\n    var date = null;\n    var description = null;\n    var amount = null;\n    var receiptImgLink = null;\n    var category = null;\n    var tag = null;\n    var comments = null;\n    const receiptIcon = \"https://png.pngtree.com/png-vector/20190411/ourlarge/pngtree-vector-receipt-icon-png-image_927096.jpg\";\n    var receiptImg;\n    var status = null;\n    return {\n      //getters & setters\n      getDate: function () {\n        return date;\n      },\n      getDescrip: function () {\n        return description;\n      },\n      getAmount: function () {\n        return amount;\n      },\n      getReceiptImgLink: function () {\n        return receiptImgLink;\n      },\n      getCategory: function () {\n        return category;\n      },\n      getTag: function () {\n        return tag;\n      },\n      getComments: function () {\n        return comments;\n      },\n      getReceiptIcon: function () {\n        return receiptIcon;\n      },\n      getReceiptImg: function () {\n        return receiptImg;\n      },\n      getStatus: function () {\n        return status;\n      },\n      setStatus: function (newStatus) {\n        status = newStatus;\n      },\n      setDate: function (newDate) {\n        date = newDate;\n      },\n      setDescrip: function (newDescrip) {\n        description = newDescrip;\n      },\n      setAmount: function (newAmount) {\n        amount = newAmount;\n      },\n      setReceiptImgLink: function (newLink) {\n        receiptImgLink = newLink;\n      },\n      setCategory: function (newCat) {\n        category = newCat;\n      },\n      setTag: function (newTag) {\n        tag = newTag;\n      },\n      setComments: function (newCom) {\n        comments = newCom;\n      },\n      setReceiptImg: function (newImg) {\n        receiptImg = newImg;\n      }\n    };\n  }();\n\n  function setExpense_card() {\n    cardData.setDate(props.data[0]);\n    cardData.setDescrip(props.data[1]);\n    cardData.setAmount(props.data[2]);\n    cardData.setReceiptImgLink(props.data[6]);\n    cardData.setCategory(props.data[3]);\n    cardData.setTag(props.data[5]);\n    cardData.setComments(props.data[4]);\n    cardData.setStatus(props.data[7]);\n  }\n\n  var cardNum = props.data[8];\n\n  var toggleReceiptImg = () => {\n    props.toggleReceiptImg(cardData.getReceiptImg());\n  };\n\n  if (props.data[6] != null) {\n    cardData.setReceiptImg(props.data[6]);\n  } else {\n    cardData.setReceiptImg(cardData.getReceiptIcon());\n  }\n\n  var toggleEditable = () => {\n    setEditable(!editable);\n  };\n\n  var toggleDeleteButton = () => {\n    var buttons = document.getElementById(`updateButtons${cardNum}`);\n    buttons.style.visibility = 'visible';\n    buttons.style.width = \"fit-content\";\n    toggleEditable();\n  };\n\n  var updateExp = () => {\n    var id = props.data[9];\n    var date = cardData.getDate();\n    var email = getCookie('email');\n    var status = document.getElementsByClassName(\"statusp\")[0];\n\n    if (status) {\n      status = status.textContent;\n    }\n\n    var merchant = document.getElementsByClassName(\"merchantp\")[0];\n\n    if (merchant) {\n      merchant = merchant.textContent;\n    }\n\n    var amount = document.getElementsByClassName(\"amountp\")[0];\n\n    if (amount) {\n      amount = amount.textContent;\n    }\n\n    var category = document.getElementsByClassName(\"catp\")[0];\n\n    if (category) {\n      category = category.textContent;\n    }\n\n    var description = document.getElementsByClassName(\"descp\")[0];\n\n    if (description) {\n      description = description.textContent;\n    }\n\n    const expense = JSON.stringify({\n      email: email,\n      id: id,\n      date: date,\n      status: status,\n      merchant: merchant,\n      amount: amount,\n      category: category,\n      description: description\n    });\n    var formData = new FormData();\n    formData.append('expense', expense); // formData.append('file', img);\n\n    const requestOptions = {\n      method: 'POST',\n      headers: {},\n      body: FormData\n    };\n    fetch('https://api.expensey.app/users/expenses/update_expense', requestOptions).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data == 'Expense updated successfully.') {\n        window.location.reload();\n      }\n    }).catch(error => console.log(error));\n  };\n\n  var delExp = () => {\n    var id = props.data[9];\n    var email = getCookie('email');\n    const requestOptions = {\n      method: 'POST',\n      headers: {},\n      body: JSON.stringify({\n        email: email,\n        id: id\n      })\n    };\n    fetch('https://api.expensey.app/users/expenses/update_expense', requestOptions).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data == 'Expense updated successfully.') {\n        window.location.reload();\n      }\n    }).catch(error => console.log(error));\n  };\n\n  setExpense_card();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Card\",\n    onDoubleClick: toggleDeleteButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    class: \"datep\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }\n  }, cardData.getDate()), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"statusp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    contentEditable: editable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 11\n    }\n  }, cardData.getStatus())), /*#__PURE__*/React.createElement(\"p\", {\n    class: \"merchantp\",\n    contentEditable: editable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }, cardData.getDescrip()), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"amountp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    contentEditable: editable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  }, \"$\", cardData.getAmount()), /*#__PURE__*/React.createElement(\"img\", {\n    src: cardData.getReceiptImg(),\n    onClick: toggleReceiptImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    class: \"catp\",\n    contentEditable: editable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }\n  }, cardData.getCategory()), /*#__PURE__*/React.createElement(\"p\", {\n    class: \"commentsp\",\n    contentEditable: editable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }, cardData.getComments()), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"updateButtons\",\n    id: `updateButtons${cardNum}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"updateExp\",\n    onClick: updateExp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"delExp\",\n    onClick: delExp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }\n  }, \"delete\")));\n};\n\nexport default Expense_card;","map":{"version":3,"sources":["/Users/ryankrumbholz/OneDrive/development/expensey/expensey-client/client/src/components/expense_card.js"],"names":["React","Component","useState","Expense_card","props","editable","setEditable","getCookie","cname","name","decodedCookie","decodeURIComponent","document","cookie","ca","split","i","length","c","charAt","substring","indexOf","cardData","date","description","amount","receiptImgLink","category","tag","comments","receiptIcon","receiptImg","status","getDate","getDescrip","getAmount","getReceiptImgLink","getCategory","getTag","getComments","getReceiptIcon","getReceiptImg","getStatus","setStatus","newStatus","setDate","newDate","setDescrip","newDescrip","setAmount","newAmount","setReceiptImgLink","newLink","setCategory","newCat","setTag","newTag","setComments","newCom","setReceiptImg","newImg","setExpense_card","data","cardNum","toggleReceiptImg","toggleEditable","toggleDeleteButton","buttons","getElementById","style","visibility","width","updateExp","id","email","getElementsByClassName","textContent","merchant","expense","JSON","stringify","formData","FormData","append","requestOptions","method","headers","body","fetch","then","res","json","console","log","window","location","reload","catch","error","delExp"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\nimport './expense_card.css';\n\nconst Expense_card   = props => {\n\n  const [editable, setEditable] = useState(false);\n\n  var getCookie = cname => {\n    /**\n     * Gets data of local cookie of given cname\n     */\n    var name = cname + \"=\";\n    var decodedCookie = decodeURIComponent(document.cookie);\n    var ca = decodedCookie.split(';');\n    for(var i = 0; i <ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1);\n      }\n      if (c.indexOf(name) === 0) {\n        return c.substring(name.length, c.length);\n      }\n    }\n    return \"\";\n  }\n\n  //function encapsulates card data\n  var cardData = function () {\n    var date = null;\n    var description = null;\n    var amount = null;\n    var receiptImgLink = null;\n    var category = null;\n    var tag = null;\n    var comments = null;\n    const receiptIcon = \"https://png.pngtree.com/png-vector/20190411/ourlarge/pngtree-vector-receipt-icon-png-image_927096.jpg\";\n    var receiptImg;\n    var status = null;\n\n    return{ \n      //getters & setters\n      getDate : function () {\n        return date;\n      },\n      getDescrip : function () {\n        return description;\n      },\n      getAmount : function () {\n        return amount;\n      },\n      getReceiptImgLink : function () {\n        return receiptImgLink;\n      },\n      getCategory : function () {\n        return category;\n      },\n      getTag : function () {\n        return tag;\n      },\n      getComments : function () {\n        return comments;\n      },\n      getReceiptIcon : function () {\n        return receiptIcon;\n      },\n      getReceiptImg : function () {\n        return receiptImg;\n      },\n      getStatus : function() {\n        return status;\n      },\n      setStatus : function (newStatus) {\n        status = newStatus;\n      },\n      setDate : function (newDate) {\n        date = newDate;\n      },\n      setDescrip : function (newDescrip) {\n        description = newDescrip;\n      },\n      setAmount : function (newAmount) {\n        amount = newAmount;\n      },\n      setReceiptImgLink : function (newLink) {\n        receiptImgLink = newLink;\n      },\n      setCategory : function (newCat) {\n        category = newCat;\n      },\n      setTag : function (newTag) {\n        tag = newTag;\n      },\n      setComments : function (newCom) {\n        comments = newCom;\n      },\n      setReceiptImg : function (newImg) {\n        receiptImg = newImg;\n      }\n    };\n  }();\n\n  function setExpense_card () {\n    cardData.setDate(props.data[0]);\n    cardData.setDescrip(props.data[1]);\n    cardData.setAmount(props.data[2]);\n    cardData.setReceiptImgLink(props.data[6]);\n    cardData.setCategory(props.data[3]);\n    cardData.setTag(props.data[5]);\n    cardData.setComments(props.data[4]);\n    cardData.setStatus(props.data[7]);\n  }\n\n  var cardNum = props.data[8]\n\n  var toggleReceiptImg = () => {\n    props.toggleReceiptImg(cardData.getReceiptImg());\n  }\n\n  if (props.data[6] != null) {\n    cardData.setReceiptImg(props.data[6]);\n  } else {\n    cardData.setReceiptImg(cardData.getReceiptIcon());\n  }\n\n  var toggleEditable = () => {\n    setEditable(!editable);\n  }\n\n  var toggleDeleteButton = () => {\n    var buttons  = document.getElementById(`updateButtons${cardNum}`)\n    buttons.style.visibility = 'visible';\n    buttons.style.width = \"fit-content\"\n    toggleEditable();\n  }\n\n  var updateExp = () => {\n    var id = props.data[9];\n    var date = cardData.getDate();\n    var email = getCookie('email')\n    var status = document.getElementsByClassName(\"statusp\")[0];\n    if (status) {\n      status = status.textContent;\n    }\n    var merchant = document.getElementsByClassName(\"merchantp\")[0];\n    if (merchant) {\n      merchant = merchant.textContent;\n    }\n    var amount = document.getElementsByClassName(\"amountp\")[0];\n    if (amount) {\n      amount = amount.textContent;\n    }\n    var category = document.getElementsByClassName(\"catp\")[0];\n    if (category) {\n      category = category.textContent;\n    }\n    var description = document.getElementsByClassName(\"descp\")[0];\n    if (description) {\n      description = description.textContent;\n    }\n\n    const expense = JSON.stringify({\n      email: email,\n      id: id,\n      date: date, \n      status: status,\n      merchant: merchant,\n      amount: amount,\n      category: category,\n      description: description\n    });\n\n    var formData = new FormData();\n\n    formData.append('expense', expense);\n    // formData.append('file', img);\n\n   const requestOptions =\n        {\n          method: 'POST',\n          headers: {\n          },\n          body: FormData\n          }\n          fetch('https://api.expensey.app/users/expenses/update_expense',requestOptions) \n              .then(res => res.json())\n              .then (data => \n                {\n                    console.log(data);\n                    if (data == 'Expense updated successfully.'){\n                        window.location.reload();\n                    }\n                })\n              .catch(error => console.log(error));\n\n  }\n\n  var delExp = () => {\n    var id = props.data[9];\n    var email = getCookie('email');\n\n   const requestOptions =\n        {\n          method: 'POST',\n          headers: {\n          },\n          body: JSON.stringify({\n            email: email,\n            id: id\n          })\n        };\n          fetch('https://api.expensey.app/users/expenses/update_expense',requestOptions) \n              .then(res => res.json())\n              .then (data => \n                {\n                    console.log(data);\n                    if (data == 'Expense updated successfully.'){\n                        window.location.reload();\n                    }\n                })\n              .catch(error => console.log(error));\n  }\n\n  setExpense_card();\n\n  return (\n      <div className=\"Card\" onDoubleClick={toggleDeleteButton}>\n        <p class=\"datep\">{cardData.getDate()}</p>\n        <div class=\"statusp\">\n          <p contentEditable={editable} >{cardData.getStatus()}</p>\n        </div>\n        <p class=\"merchantp\" contentEditable={editable}>{cardData.getDescrip()}</p>\n        <div class=\"amountp\">\n          <p contentEditable={editable}>${cardData.getAmount()}</p>\n          <img src={cardData.getReceiptImg()} onClick={toggleReceiptImg}></img>\n        </div>\n        <p class=\"catp\" contentEditable={editable}>{cardData.getCategory()}</p>\n        <p class=\"commentsp\" contentEditable={editable}>{cardData.getComments()}</p>\n        <div class=\"updateButtons\" id={`updateButtons${cardNum}`}>\n          <button id=\"updateExp\" onClick={updateExp}>Update</button>\n          <button id=\"delExp\" onClick={delExp}>delete</button>\n        </div>\n      </div>\n  )\n}\n\n\n\nexport default Expense_card;"]},"metadata":{},"sourceType":"module"}